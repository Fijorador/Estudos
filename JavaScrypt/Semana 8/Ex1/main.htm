<!DOCTYPE HTML>
<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Exercício com DOM-HTML e JavaScript</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .invisivel {
            display: none;
        }
    </style>
    <script>
        window.addEventListener('DOMContentLoaded', function () {
            //Atribuiçao de String
            var titleElement = document.querySelector('title');
            titleElement.textContent += ' e JavaScript';

            var h1Element = document.querySelector('h1');
            h1Element.textContent += ' e JavaScript';

            //Atribuição de Data
            var dataInicioAulas = new Date(2023, 4, 1);
            var dataAtual = new Date();
            var diffEmDias = Math.floor((dataAtual - dataInicioAulas) / (1000 * 60 * 60 * 24));

            var diasElement = document.querySelector('.dias');
            diasElement.innerHTML = diffEmDias;

            //Atribuiçao de Classe
            var elementosInvisiveis = document.querySelectorAll('.invisivel');
            elementosInvisiveis.forEach(function (elemento) {
                elemento.classList.remove('invisivel');
            });

        });




    </script>
</head>

<body>
    <h1>Exercício com DOM-HTML e JavaScript</h1>
    <p>Faz <span class="dias" style="background-color: red;"></span> que estamos estudando JavaScript.</p>

    <p class="invisivel">Essa é uma mensagem escondida na página web.</p>
    <p class="animada invisivel">Essa é uma mensagem animada na página web.</p>

    <h2>Disciplinas por período</h2>
    <ul>
        <li>ALGORITMOS - PERÍODO 1 - (90h)</li>
        <li>INTRODUÇÃO A SISTEMAS OPERACIONAIS - PERÍODO 1 - (30h)</li>
        <li>PROGRAMAÇÃO ORIENTADA A OBJETOS - PERÍODO 2 - (90h)</li>
        <li>PROGRAMAÇÃO WEB FRONT-END - PERÍODO 2 - (60h)</li>
        <li>BANCO DE DADOS - PERÍODO 2 - (60h)</li>
        <li>PROGRAMAÇÃO WEB BACK-END - PERÍODO 3 - (60h)</li>
        <li>ESTRUTURA DE DADOS - PERÍODO 3 - (60h)</li>
        <li>PROGRAMAÇÃO WEB FULLSTACK - PERÍODO 4 - (60h)</li>
        <li>ESTRATÉGIAS DE PROGRAMAÇÃO - PERÍODO 4 - (60h)</li>
    </ul>

    <p class="ch_total">Carga-horária total:</p>

    <div class="mascara">
        <div class="atrapalhando"></div>
        <div class="utfpr"></div>
    </div>

    <h2>Disciplinas em ordem alfabética</h2>
    <ul class="ordenado">
    </ul>

    <h2>Disciplinas em ordem alfabética decrescente</h2>
    <ul class="decrescente">
    </ul>

    <h2>Disciplinas de programação</h2>
    <ul class="programacao">
    </ul>
    <script>

        //Modificação String

        // Selecionar todos os elementos <li>
        var liElements = document.querySelectorAll('li');
        // Iterar sobre cada elemento <li>
        liElements.forEach(function (li) {
            // Obter o texto do elemento e convertê-lo para minúsculas
            var lowercaseText = li.textContent.toLowerCase();

            // Definir o novo texto com letras minúsculas
            li.textContent = lowercaseText;
        });

        //Condicional String

        // Selecionar todos os elementos <li> das disciplinas
        var liDisciplinas = document.querySelectorAll('li');
        // Iterar sobre cada elemento <li> das disciplinas
        liDisciplinas.forEach(function (li) {
            // Verificar se o texto do elemento contém a palavra "web"
            if (li.textContent.toLowerCase().indexOf('web') !== -1) {
                // Adicionar a string "(Fácil)" ao final do texto
                li.textContent += " (Fácil)";
            }
        });

        //Modificação Condicional e String  

        // Selecionar todos os elementos <li> das disciplinas
        var liDisciplinas = document.querySelectorAll('li');
        // Criar um objeto para armazenar as cores dos períodos
        var periodColors = {};

        // Iterar sobre cada elemento <li> das disciplinas
        liDisciplinas.forEach(function (li) {
            // Extrair o número do período usando expressões regulares
            var periodNumber = li.textContent.match(/\d+/)[0];

            // Verificar se a cor já foi definida para o período
            if (periodColors[periodNumber] === undefined) {
                // Gerar uma cor aleatória em formato hexadecimal
                var color = '#' + Math.floor(Math.random() * 16777215).toString(16);
                // Armazenar a cor no objeto periodColors
                periodColors[periodNumber] = color;
            }

            // Aplicar a cor ao elemento <li>
            li.style.backgroundColor = periodColors[periodNumber];
        });

        //Repetiçao e String

        // Iterar sobre cada elemento <li> das disciplinas
        liDisciplinas.forEach(function (li) {
            // Extrair o número de horas totais da disciplina
            var horasTotais = parseInt(li.textContent.match(/\(\d+h\)/)[0].slice(1, -2));

            // Calcular o número de aulas por semana
            var aulasPorSemana = horasTotais / 15;

            // Acrescentar o número de aulas por semana ao conteúdo interno do elemento <li>
            li.textContent += ' - ' + aulasPorSemana + ' aulas/semana';
        });

        //Repetiçao

        // Variável para armazenar a soma das cargas-horárias
        var somaCargaHoraria = 0;

        // Iterar sobre cada elemento <li> das disciplinas
        liDisciplinas.forEach(function (li) {
            // Extrair a carga-horária da disciplina usando expressões regulares
            var cargaHoraria = parseInt(li.textContent.match(/\(\d+h\)/)[0].slice(1, -2));

            // Adicionar a carga-horária atual à soma total
            somaCargaHoraria += cargaHoraria;
        });

        // Criar um elemento <span> para exibir a soma das cargas-horárias
        var spanCargaHoraria = document.createElement('span');
        spanCargaHoraria.classList.add('ch');
        spanCargaHoraria.textContent = somaCargaHoraria + 'h';

        // Selecionar o elemento <p> com a classe "ch_total"
        var pChTotal = document.querySelector('.ch_total');

        // Inserir o elemento <span> com a soma das cargas-horárias dentro do elemento <p>
        pChTotal.appendChild(spanCargaHoraria);


        //Atribuiçao 

        var mascaraElement = document.querySelector('.mascara');
        // Selecionar o elemento de classe "atrapalhando" dentro do elemento "mascara"
        var atrapalhandoElement = mascaraElement.querySelector('.atrapalhando');
        // Remover o elemento "atrapalhando" do elemento "mascara"
        mascaraElement.removeChild(atrapalhandoElement);

        //Vetor

        var liContents = [];

        // Iterar sobre cada elemento <li> das disciplinas
        liDisciplinas.forEach(function (li) {
            // Extrair o conteúdo interno do elemento <li>
            var liContent = li.textContent;
            // Adicionar o conteúdo interno ao array liContents
            liContents.push(liContent);
        });

        // Ordenar o array liContents alfabeticamente
        liContents.sort();

        // Selecionar o elemento <ul> com a classe "ordenado"
        var ulOrdenado = document.querySelector('.ordenado');

        // Inserir cada item do array liContents como um novo <li> dentro do elemento <ul> ordenado
        liContents.forEach(function (content) {
            // Criar um novo elemento <li>
            var newLi = document.createElement('li');
            // Definir o conteúdo interno do novo <li> como o item atual do array
            newLi.textContent = content;
            // Inserir o novo <li> dentro do <ul> ordenado
            ulOrdenado.appendChild(newLi);
        });

        //Vetor2 

        // Sort the array liContents in descending alphabetical order
        var sortedLiContents = liContents.sort(function (a, b) {
            return b.localeCompare(a);
        });
        // Select the <ul> element with the class "decrescente"
        var ulDecrescente = document.querySelector('.decrescente');
        // Insert each item from the sorted array as a new <li> element within the <ul> element
        sortedLiContents.forEach(function (content) {
            // Create a new <li> element
            var newLi = document.createElement('li');
            // Set the inner content of the new <li> to the current item from the array
            newLi.textContent = content;
            // Append the new <li> to the <ul> element
            ulDecrescente.appendChild(newLi);
        });

        //Vetor Prog 

        // Filter the array liContents to include only elements containing the word "programação"
        var filteredLiContents = liContents.filter(function (content) {
            return content.toLowerCase().includes("programação");
        });

        // Select the <ul> element with the class "programacao"
        var ulProgramacao = document.querySelector('.programacao');

        // Insert each filtered item as a new <li> element within the <ul> element
        filteredLiContents.forEach(function (content) {
            // Create a new <li> element
            var newLi = document.createElement('li');
            // Set the inner content of the new <li> to the current filtered item
            newLi.textContent = content;
            // Append the new <li> to the <ul> element
            ulProgramacao.appendChild(newLi);
        });






    </script>

</body>

</html>